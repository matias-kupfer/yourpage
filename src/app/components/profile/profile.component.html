<div class="outer" *ngIf="userData !== null; else loader">
  <div class="profile-content">
    <!--POSTS-->
    <h1>posts:</h1>
    <mat-form-field color="accent">
      <mat-label>order</mat-label>
      <mat-select (selectionChange)="orderBy($event.value)">
        <mat-option value="asc" selected>ascend</mat-option>
        <mat-option value="desc">desc</mat-option>
      </mat-select>
    </mat-form-field>

    <div *ngFor="let post of userImagePosts;">
      <ng-container *ngIf="post.imagesUrls.length">
        <h1>{{post.title}}</h1>
        <h3>{{post.date.seconds * 1000| date:'d/M/yy, h:mm'}}</h3>
        <ng-container *ngFor="let postImageUrl of post.imagesUrls">
          <app-image [image]="postImageUrl" [class]="'small-profile-picture'" style="margin: 5px"></app-image>
        </ng-container>
        <button mat-flat-button color="warn" *ngIf="isUserProfile" (click)="deletePost(post)">Delete</button>
        <hr>
      </ng-container>
    </div>
  </div>
  <div class="right-column">
    <app-user-card [userData]="userData" [isUserProfile]="isUserProfile"></app-user-card>
    <br>
    <br>
    <!--MAP-->
    <div class="map">
      <agm-map (mapClick)="!userName && isUserProfile && createPointer($event)" [styles]="mapStyle" [zoom]="1"
               [backgroundColor]="'#242f3e'">
        <agm-marker *ngFor="let pointer of userData.accountInfo.mapPointers" [latitude]="pointer.lat"
                    [longitude]="pointer.lng">
          <agm-info-window>
            <div class="agm-info-window">
              <strong>{{ pointer.title }}</strong>
              <p>
                {{ pointer.description }}
              </p>
              <div *ngIf="isUserProfile">
                <button mat-raised-button color="accent" (click)="editPointer(pointer)">Edit</button>
                <button mat-raised-button color="warn" (click)="removePointer(pointer)">Remove</button>
              </div>
            </div>
          </agm-info-window>
        </agm-marker>
      </agm-map>
    </div>

  </div>
</div>


<!-- LOADER -->
<ng-template #loader>
  <app-loader></app-loader>
</ng-template>
<!--@todo ngif for social links-->
<!--todo bigger description like bio under the map with 400 char-->
